{"ast":null,"code":"var Web3 = require('web3');\n\n//let web3 = new Web3(window.web3.currentProvider)\n\n/*if (window.ethereum) {\n    // 请求用户授权\n    window.ethereum.enable(function(){\n        web3.eth.getAccounts((error, accounts) => {\n            web3.eth.defaultAccount = accounts[0];\n            console.log(accounts)\n        })\n    })\n\n} else  if (typeof web3 !== 'undefined') {\n    const web3 = new Web3(web3.currentProvider);\n    web3.eth.defaultAccount = web3.eth.accounts[0];\n    console.log(web3.eth.defaultAccount);\n} else {\n    // set the provider you want from Web3.providers\n    const web3 = new Web3(new Web3.providers.HttpProvider(\"http://localhost:8545\"));\n}*/\n\n// 检查是否是新的MetaMask 或 DApp浏览器\nvar web3Provider;\nif (window.ethereum) {\n  web3Provider = window.ethereum;\n  try {\n    // 请求用户授权\n    await window.ethereum.enable();\n  } catch (error) {\n    // 用户不授权时\n    console.error(\"User denied account access\");\n  }\n} else if (window.web3) {\n  // 老版 MetaMask Legacy dapp browsers...\n  web3Provider = window.web3.currentProvider;\n} else {\n  web3Provider = new Web3.providers.HttpProvider('http://localhost:8545');\n}\nweb3 = new Web3(web3Provider);\n\n//let web3 = new Web3('http://localhost:8545')\n\n//export导出，es6语法，default标识默认导出，在使用时，名字可以改变\n//使用时，使用import\nexport default web3;","map":{"version":3,"names":["Web3","require","web3Provider","window","ethereum","enable","error","console","web3","currentProvider","providers","HttpProvider"],"sources":["D:/Desktop/by/github/funding/src/utils/InitWeb3.js"],"sourcesContent":["let Web3 = require('web3')\n\n//let web3 = new Web3(window.web3.currentProvider)\n\n/*if (window.ethereum) {\n    // 请求用户授权\n    window.ethereum.enable(function(){\n        web3.eth.getAccounts((error, accounts) => {\n            web3.eth.defaultAccount = accounts[0];\n            console.log(accounts)\n        })\n    })\n\n} else  if (typeof web3 !== 'undefined') {\n    const web3 = new Web3(web3.currentProvider);\n    web3.eth.defaultAccount = web3.eth.accounts[0];\n    console.log(web3.eth.defaultAccount);\n} else {\n    // set the provider you want from Web3.providers\n    const web3 = new Web3(new Web3.providers.HttpProvider(\"http://localhost:8545\"));\n}*/\n\n// 检查是否是新的MetaMask 或 DApp浏览器\nvar web3Provider;\nif (window.ethereum) {\n    web3Provider = window.ethereum;\n    try {\n        // 请求用户授权\n        await window.ethereum.enable();\n    } catch (error) {\n        // 用户不授权时\n        console.error(\"User denied account access\")\n    }\n} else if (window.web3) {   // 老版 MetaMask Legacy dapp browsers...\n    web3Provider = window.web3.currentProvider;\n} else {\n    web3Provider = new Web3.providers.HttpProvider('http://localhost:8545');\n}\nweb3 = new Web3(web3Provider);\n\n\n\n//let web3 = new Web3('http://localhost:8545')\n\n//export导出，es6语法，default标识默认导出，在使用时，名字可以改变\n//使用时，使用import\nexport default web3;\n"],"mappings":"AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAM,CAAC;;AAE1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAIC,YAAY;AAChB,IAAIC,MAAM,CAACC,QAAQ,EAAE;EACjBF,YAAY,GAAGC,MAAM,CAACC,QAAQ;EAC9B,IAAI;IACA;IACA,MAAMD,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;EAClC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ;IACAC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAC;EAC/C;AACJ,CAAC,MAAM,IAAIH,MAAM,CAACK,IAAI,EAAE;EAAI;EACxBN,YAAY,GAAGC,MAAM,CAACK,IAAI,CAACC,eAAe;AAC9C,CAAC,MAAM;EACHP,YAAY,GAAG,IAAIF,IAAI,CAACU,SAAS,CAACC,YAAY,CAAC,uBAAuB,CAAC;AAC3E;AACAH,IAAI,GAAG,IAAIR,IAAI,CAACE,YAAY,CAAC;;AAI7B;;AAEA;AACA;AACA,eAAeM,IAAI"},"metadata":{},"sourceType":"module"}